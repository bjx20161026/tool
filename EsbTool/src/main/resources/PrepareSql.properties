MetaDtMsgRecord.getMsgsql=select MSG_CONTENT from ipmsds.META_DT_MSG_RECORD t where msg_content like ?\nand receive_time_stamp\=(\nselect max(receive_time_stamp) from ipmsds.META_DT_MSG_RECORD t where msg_content like ?\nand receive_time_stamp>sysdate-?)
InasPolicy.insertSql=insert into dm_co_ba_cfg_clt(ID,CONFIG,TYPE)values(?,?,?)
WlanIpnetNew=select t.* ,rowid from dm_co_ba_cfg_clt t where id  like '%NEW%'
WlanIpnetTaskInsert=insert into dm_co_ba_cfg_clt(id,config,type)values(?,?,?)
temp=\    insert into nhm.ppm_wlan_ap_perf_2013_H\n    (WLNPZB01,\n     WLNPZB02,\n     WLNPZB03,\n     WLNPZB04,\n     WLNPZB05,\n     WLNPZB06,\n     WLNPZB07,\n     WLNPZB08,\n     WLNPZB09,\n     WLNPZB10,\n     WLNPZB11,\n     WLNPZB12,\n     WLNPZB13,\n     WLNPZB14,\n     WLNPZB15,\n     WLNPZB16,\n     WLNPZB17,\n     WLNPZB18,\n     WLNPZB19,\n     WLNPZB20,\n     WLNPZB21,\n     WLNPZB22,\n     WLNPZB23,\n     WLNPZB24,\n     WLNPZB25,\n     WLNPZB26,\n     WLNPZB27,\n     WLNPZB28,\n     WLNPZB29,\n     WLNPZB30,\n     WLNPZB31,\n     WLNPZB32,\n     WLNPZB33,\n     WLNPZB34,\n     WLNPZB35,\n     WLNPZB36,\n     WLNPZB37,\n     WLNPZB38,\n     WLNPZB39,\n     WLNPZB40,\n     WLNPZB41,\n     WLNPZB42,\n     WLNPZB43,\n     WLNPZB44,\n     WLNPZB45,\n     objectid,\n     objectname)\n               select trunc(to_date(?,'yyyy-MM-dd hh24\:mi\:ss')-?/24-1/24, 'hh24'),\n           trunc(to_date(?,'yyyy-MM-dd hh24\:mi\:ss')-?/24, 'hh24'),\n           'SH',\n           'SH',\n           nvl(t1.ap_name, 'none'),\n           nvl(t1.hotspot_name, 'none'),\n           nvl(t1.ac_indentify, 'none'),\n           nvl(t1.ac_ip, 'none'),\n           nvl(t1.ac_scene,21),\n           nvl(t1.pid,21),\n           nvl(t1.sub_no,1),\n           decode(t1.is_vip,1,0,2,1,3,2),\n           nvl(t4.abort,0),\n           nvl(t1.related_count,0),\n           nvl(t1.relate_fail_count,0),\n           nvl(t1.mac_addr,'00 00 00 00 00 00'),--16\n           nvl(round(t6.max_in_traffic / 1024,2),0),\n           nvl(t1.retry,0),--18\n           nvl(round(t6.max_out_traffic / 1024,2),0),\n           nvl(t1.rerelated_fail_count,0),\n           nvl(decode(MAX_ONLINEUSER, 0,0,round(t6.max_out_traffic / 1024 / MAX_ONLINEUSER)),0),\n           nvl(t1.related_exec_count, 0),\n           nvl(t1.related_reject_count, 0),\n           nvl(t1.ac_name,'none'),\n           nvl(t1.avg_relateduser, 0),--25\n           0 as WLNPZB26,--26\n           0 as WLNPZB27,--27\n           0  as WLNPZB28,--28\n           round(nvl(t6.sum_inflow/1024,0),2),--29\n           round(nvl(t6.sum_outflow/1024,0),2),--30\n           case when t5.busy_times is null then 0\n                when t5.busy_times>\=5 then 1\n                else 0 end as is_busy,--31\n           nvl(t5.busy_times,0),--32\n           144 as clt_times,--33\n           1 as install_location,--34,DOWNRETRNDATAPKTS\n           nvl(DOWNRETRNDATAPKTS,0) as wireless_re_send_pkg,--35\n           nvl(t6.txdatapkts,0),--36\n           nvl(t6.RXERRORDATAPKTS,0) as wireless_fail_pkg,\n           nvl(t6.rxdatapkts,0),--38\n           nvl(t6.avgsignalstrength,0),--39\n           t7.radio_mode_config,--40\n           nvl(t1.MAX_ONLINEUSER,0),--41\n           nvl(t1.max_relateduser,0),--42\n           t1.project_complete_date,--43\n           t1.project_apply_date,--44\n           t1.project_accept_date,--45\n           t1.device_id,\n           t1.ap_name as objectname\n        from (select t1.*,t2.* from (select t.device_id,\n                           t.DEVICE_NAME sys_name,\n                           t.DEVICE_MAC mac_addr,\n                           t.DEVICE_IP as ap_ip,\n                           t.DEVICE_NAME as ap_name,\n                           t.Device_Number as ap_indentify,\n                           --t.APANAGE as city,\n                           tT.jituan_en_name as city,\n                           t.related_count,\n                           t.relate_fail_count,\n                           t.if_out_traffic,\n                           t.max_if_out_traffic,\n                            t.if_in_traffic,\n                          t.max_if_in_traffic,\n                           t.AVG_ONLINEUSER,\n                           t.MAX_ONLINEUSER,\n                          t.related_exec_count,\n                          t.related_reject_count,\n                          t.retry ,\n                          t.rerelated_fail_count ,\n                          t.in_bytes ,\n                          t.out_bytes ,\n                          t.avg_relateduser,\n                          t.max_relateduser\n                      from nhm.ppm_wlan_ap_perf_tmp_hour t,RM.V_JITUAN_CITY TT WHERE T.DISTRICT\=TT.name(+)\n                     )t1\n                      left join\n                   (select c.device_id       as ap_uuid,\n                           c.ac_id,\n                           c.hotspot_id,\n                           d.pid             as ac_scene,\n                           e.hotspot_name,\n                           e.group_sub_scene as ap_sub_scene,\n                           e.sub_no,\n                           e.pid,\n                           e.is_vip,\n                           e.project_apply_date,\n                           e.project_complete_date,\n                           e.project_accept_date,\n                           d.ac_name,\n                           d.ac_indentify,\n                           d.ip_addr as ac_ip\n                      from rm.rm_ap_config c\n                      left join (select q1.device_id,\n                                       q1.group_sub_scene,\n                                       q2.sys_name ac_name,\n                                       q3.pid,\n                                       q2.ip_addr,\n                                       substr(q1.nas_id,0,16) as ac_indentify\n                                  from rm.rm_ac_config q1\n                                  left join rm.rm_device q2\n                                    on q1.device_id \= q2.device_id\n                                  left join rm.rm_hotspot_subscene q3\n                                    on q1.group_sub_scene \= q3.sub_id\n                                  ) d\n                        on c.ac_id \= d.device_id\n                      left join rm.v_rm_hotspot_scene e\n                        on c.hotspot_id \= e.hotspot_id) t2\n            on t1.device_id \= t2.ap_uuid\n               ) t1\n       left join (select device_id, case when sum(estime)>900 then 900 else  SUM(ESTIME) end as abort\n                                   from rm.report_abort_ap_detail_H t1\n                                  where time_stamp \= trunc(to_date(?,'yyyy-MM-dd hh24\:mi\:ss')-?/24 - 3/24,'hh24')\n                                   group by device_id) t4\n        on t1.device_id \= t4.device_id left join (select device_id,sum(times) as busy_times from rm.REPORT_BUSY_AP_HOUR_DETAIL\n        where time_stamp between trunc(to_date(?,'yyyy-MM-dd hh24\:mi\:ss')-?/24-1/24,'hh24') and trunc(to_date(?,'yyyy-MM-dd hh24\:mi\:ss')-?/24,'hh24')-0.0001\n        and device_id not in(select device_uuid from nhm.ppm_wlan_ap_perf_tmp2_hour where (SUM_INFLOW+sum_outflow)\=0) group by device_id) t5 on t1.device_id\=t5.device_id left join\n        nhm.ppm_wlan_ap_perf_tmp2_hour t6 on t1.device_id\=t6.device_uuid left join\n         rm.rm_ap_radio_mode_config t7 on t1.device_id\=t7.device_id
MetaDtMsgSendRecordsql.gerRecordsql=select ID,CALL_RESULT,to_char(send_time_stamp,'yyyy-MM-dd hh24\:mi\:ss')  as send_time_stamp,ESB_MSG,MSG_CONTENT\n  from ipmsds.meta_dt_msg_send_record\n where esb_msg like ?\n   and send_time_stamp > sysdate-?\n   order by send_time_stamp desc
MetaDtMsgSendRecordsql.gerMsgsql=select  ESB_MSG  --esb\u6D88\u606F\n  from ipmsds.meta_dt_msg_send_record\n where id \= ?
DmCoBaTaskRecord.getCountDaysql=select t1.receive,t1.period,t2.receive as ftpreceive\n  from \n  (select count(a.UUID) as receive, to_char(b.period, 'yyyyMMdd') as period\n    from (select UUID, INSERT_TIME\n            from ipmsdm.dm_co_ba_task_record\n           where DEALTYPE \= 'ESB\u5171\u4EAB' and INSERT_TIME > sysdate - 8) a\n   right join (select level, trunc(sysdate) - 1 * level as period\n                 from dual\n               connect by level <\= 7\n                order by level) b\n      on trunc(a.INSERT_TIME) \= b.period\n   group by b.period\n   order by b.period) t1\n   left join\n     (select count(a.UUID) as receive, to_char(b.period, 'yyyyMMdd') as period\n    from (select UUID, INSERT_TIME\n            from ipmsdm.dm_co_ba_task_record\n           where DEALTYPE \= '\u6570\u636E\u91C7\u96C6' and INSERT_TIME > sysdate - 8) a\n   right join (select level, trunc(sysdate) - 1 * level as period\n                 from dual\n               connect by level <\= 7\n                order by level) b\n      on trunc(a.INSERT_TIME) \= b.period\n   group by b.period\n   order by b.period) t2\n   on t1.period \= t2.period
WlanIpnetTask=select t.* ,rowid from dm_co_ba_cfg_clt t where id in('esb-PPM_Wap_KPI','esb-PPM_DNS','esb-PPM_IAGW_BUS_HOUR','esb-PPM_ISMG_CONNECTGW_BUS_HOUR','esb-PPM_ISMG_DGW_SP_BUS_HOUR','esb-PPM_CMNET_IDC_SP','esb-PPM_CMNET_WebCache_Link','esb-PPM_CMNET_Relaying_Link','esb-PPM_WLAN_AP_OFFLINE_WORST_H','esb-PPM_WLAN_AP_KEY_PERF_H','esb-PPM_WLAN_AC_PERFORMANCE_H')
MetaDtTaskRecord.getDatFileNamesql=select * from ipmsds.META_DT_TASK_RECORD where SOURCE_PATH like ? and receive_time_stamp>sysdate-1/24 and rownum<2
MetaDtTaskRecord.getCountDaysql=select t1.receive,t1.period,t2.receive as effective\n from \n (select count(a.ID) as receive, to_char(b.period,'yyyyMMdd') as period from (select ID,RECEIVE_TIME_STAMP from ipmsds.META_DT_TASK_RECORD where RECEIVE_TIME_STAMP>sysdate-8) a right join (select level, trunc(sysdate) - 1* level as period from dual connect by level <\= 7 order by level) b on trunc(a.RECEIVE_TIME_STAMP) \= b.period group by b.period order by b.period) t1\n left join \n  (select count(a.ID) as receive, to_char(b.period,'yyyyMMdd') as period  from (select ID,RECEIVE_TIME_STAMP from ipmsds.META_DT_TASK_RECORD where  FILENAME_PATTERN is not null and RECEIVE_TIME_STAMP>sysdate-8) a right join (select level, trunc(sysdate) - 1* level as period from dual connect by level <\= 7 order by level) b on trunc(a.RECEIVE_TIME_STAMP) \= b.period group by b.period order by b.period) t2\n  on t1.period \= t2.period
MetaPiFileSource.getTablesql=select PARSE_RULE,TABLE_NAME from  ipmsds.META_PI_FILE_SOURCE t where SERVICE_CODE like ?
MetaPiTableDetail.getDetialsql=select * from ipmsds.META_PI_TABLE_DETAIL where table_id \= (select id from ipmsds.META_PI_TABLE t where table_name like ?)
